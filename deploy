#!/bin/bash

NC="\e[0m"
SUCCESS="\e[32m"
WARNING="\e[33m"
ERROR="\e[31m"

GIT_BRANCH="master"
GIT_REMOTE="origin"

echo -e "${SUCCESS}Pulling latest changes${NC}"
git checkout $GIT_BRANCH
git fetch $GIT_REMOTE
git pull $GIT_REMOTE $GIT_BRANCH

echo -e "${SUCCESS}Rebuilding Docker image${NC}"
docker-compose build

echo -e "${SUCCESS}Restarting Docker containers${NC}"
docker-compose down
docker-compose up -d

echo -e "${SUCCESS}Installing libraries${NC}"
docker exec -it php_jeroendn ./develop install

echo -e "${SUCCESS}Deployment complete${NC}"
